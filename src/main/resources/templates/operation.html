<!DOCTYPE html>
<meta charset="UTF-8">
<html>
<head th:replace="fragments/header"></head>
<body>
	<div data-role="page" data-theme="a" data-dom-cache="false" >
		<div data-role="header" data-position="inline" >
			<img src="img/unimer_logo.png" class="logotitle" th:src="@{/img/unimer_logo.png}">
            <h1>
            SIP Cotizaciones - Operaciones
            </h1>
		</div>
		<div data-role="content" data-theme="a" style="width: 80%;margin: 1em auto;">
		<h3>Control de operaciones</h3>
			<div data-role="fieldcontain">
			
					<form method="post" action="#" th:action="@{/admin/addoperation}" th:object="${updateOperation}" >
					
						<div th:if="${updateOperation==null}">
							<label for="details">Detalle:</label>
							<input title="Debe ingresar el nombre que describe la operación" type="text" name="detail" th:value="${detail}" required/>
							<label for="operationTypes">Tipo de operación:</label>
							<select name="operationType.idOperationType">
								<option  th:each="operationType : ${operationTypes}" th:value="${operationType.idOperationType}"> 
									<p name="operationType.detail" th:text="${operationType.detail}" th:value="${operationType.detail}" ></p>
								</option>
								
							</select>
							
						</div>
						
						<div th:if="${updateOperation!=null}">
							<input type="hidden" name="idOperation" th:value="${updateOperation.idOperation}" readonly />
							<label for="detail">Detalle:</label>
							<input title="Debe ingresar el nombre que describe la operación" type="text" name="detail" th:value="${updateOperation.detail}" required/>	
							<label for="operationType">Tipo de operación</label>
							<select name="operationType.idOperationType">
								<option th:each="operationType : ${operationTypes}" th:value="${operationType.idOperationType}" th:if="${updateOperation.OperationType.detail == operationType.detail}"  selected readonly>
									<p name="operationType.detail" th:text="${operationType.detail}" th:value="${operationType.detail}" ></p>
								</option>
								<option th:each="operationType : ${operationTypes}" th:value="${operationType.idOperationType}" th:if="${updateOperation.OperationType.detail != operationType.detail}"  readonly>
										<p name="operationType.detail" th:text="${operationType.detail}" th:value="${operationType.detail}" ></p>
								</option>
							</select>
							
							<a href="#" th:href="@{/admin/addoperation}"><button  class="custom_text" data-icon="Cancel">Cancelar</button></a>	
						</div>
                    	<hr>
                    	
                   
                    	
  					<input type="submit" name="submit" class="custom_text" data-icon="plus" value="Guardar">
				</form>
			</div>
           	
           	
           	<fieldset data-role="controlgroup"  data-type="horizontal">
           	<legend><h3>Operaciones en el sistema</h3></legend>
           		<table style="text-align:justify;">
           				<thead>
           				<tr>
           				<th  style="padding-right: 15px;">ID</th>
           				<th  style="padding-right: 15px;">Detalle</th>
           				<th  style="padding-right: 15px;">Tipo de operación</th>
           				<th  style="padding-right: 15px;">Opción</th>
           				</tr>
           				</thead>
           				<tbody>
	           			<tr th:each="operation: ${operations}">
							<td style="padding-right: 15px;" th:text="${operation.idOperation}"></td>
							<td style="padding-right: 15px;" th:text="${operation.detail}"></td>
							<td style="padding-right: 15px;" th:text="${operation.OperationType.detail}"></td>
	           				<td style="padding-right: 15px;"><a href="#" th:href="@{/admin/updateoperation?idOperation=__${operation.idOperation}__}"  >Editar</a></td>
           				</tr>
           				
          			</tbody>
           			</table>
           	</fieldset>
           	
		</div>
		<div id="footer" data-role="footer" data-position="fixed" data-tap-toggle="false">
			<div data-role="popup" data-position="left" id="adminmenu" th:replace="fragments/footer"></div>
		<!-- /panel -->	
		</div>
		
	 <script>
$(".opt").each(function()
{
	alert($(this).val());
});
</script>

		
	</div>
</body>
</html>
